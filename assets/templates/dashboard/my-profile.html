<!-- Viewport mobile tag for sensible mobile support -->
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

<!-- Error state -->
<div class="alert alert-info toggle" ng-show="userProfile.errorMsg">
  <h5>Oops!</h5>
  <p>Looks like an error occurred. Please try again later.</p>
  <code>
    {{errorMsg}}
  </code>
</div>

<!-- Loading state -->
<div ng-show="userProfile.loading">
  <span class="overlord-loading-spinner fa fa-spinner"></span>
  <span>Loading user data...</span>
</div>

<div class="centralized-text" ng-hide="userProfile.loading">
  <form ng-submit="editMyProfile()">
    <h2 class="logo-font slogan amber-text text-darken-3">edit profile</h2>

    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
      <input type="text" class="form-control mdl-textfield__input" name="name" id="name"
             ng-model="userProfile.properties.name">
      <label class="mdl-textfield__label" for="name">Name..</label>
    </div>
    <br/>

    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
      <input type="email" class="mdl-textfield__input" name="email" id="email" ng-model="userProfile.properties.email">
      <label class="mdl-textfield__label" for="email">Email..</label>
    </div>
    <br/>

    <button type="submit"
            class="btn mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect amber darken-3 white-text">
      <span ng-show="userProfile.saving" class="overlord-loading-spinner fa fa-spinner"></span>
      <span ng-show="userProfile.saving">Saving...</span>
      <span ng-hide="userProfile.saving" class="btn-text">Save</span>
    </button>
  </form>
  <br/>
  <hr>
  <form ng-submit="changeMyPassword()">
    <h2 class="logo-font slogan amber-text text-darken-3">change password</h2>

    <!-- Error state -->
    <div class="alert alert-info toggle" ng-show="changePasswordForm.errorMsg">
      <h5>Oops!</h5>
      <p>Looks like an error occurred. Please try again later.</p>
      <code>
        {{changePasswordForm.errorMsg}}
      </code>
    </div>

    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
      <input type="password" class="form-control mdl-textfield__input" name="password" id="password"
             ng-model="changePasswordForm.properties.password">
      <label class="mdl-textfield__label" for="password">Password..</label>
    </div>
    <br/>

    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
      <input type="password" class="form-control mdl-textfield__input" name="passwordConfirmation"
             id="passwordConfirmation" ng-model="changePasswordForm.properties.confirmPassword">
      <label class="mdl-textfield__label" for="passwordConfirmation">Confirm Password..</label>
    </div>
    <br/>

    <button type="submit" class="btn mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect amber darken-3 white-text">
      <span ng-show="changePasswordForm.saving" class="overlord-loading-spinner fa fa-spinner"></span>
      <span ng-show="changePasswordForm.saving">Saving...</span>
      <span ng-hide="changePasswordForm.saving" class="btn-text">Save</span>
    </button>
    <br/>
    <br/>
  </form>
</div>
<!-- Google Analytics -->
<script>
  (function (i, s, o, g, r, a, m) {
    i['GoogleAnalyticsObject'] = r;
    i[r] = i[r] || function () {
        (i[r].q = i[r].q || []).push(arguments)
      }, i[r].l = 1 * new Date();
    a = s.createElement(o),
      m = s.getElementsByTagName(o)[0];
    a.async = 1;
    a.src = g;
    m.parentNode.insertBefore(a, m)
  })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

  ga('create', 'UA-97439800-1', 'auto');
  ga('send', 'pageview');

</script>
